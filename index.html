<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Comparativo de Bancos - 4T24</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Estilização global para o corpo da página */
        body {
            font-family: 'Inter', sans-serif;
            /* Define a fonte 'Inter' como padrão, com uma fonte sans-serif como fallback */
            background-color: #f3f4f6;
            /* Define a cor de fundo como cinza claro (Tailwind gray-100) */
        }

        /* Estilização para os contentores dos gráficos */
        .chart-container {
            background-color: white;
            /* Define a cor de fundo como branca */
            padding: 20px;
            /* Adiciona preenchimento interno de 20 pixels */
            border-radius: 8px;
            /* Adiciona cantos arredondados de 8 pixels */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            /* Adiciona uma sombra suave */
            margin-bottom: 20px;
            /* Adiciona uma margem inferior de 20 pixels */
            height: 400px;
            /* Define uma altura fixa de 400 pixels para os contentores */
            display: flex;
            /* Ativa o layout flexbox */
            flex-direction: column;
            /* Organiza os itens filhos em coluna */
            justify-content: center;
            /* Centraliza o conteúdo verticalmente */
        }

        /* Estilização para os títulos dos gráficos */
        .chart-title {
            text-align: center;
            /* Centraliza o texto */
            font-size: 1.125rem;
            /* Define o tamanho da fonte (equivalente a text-lg do Tailwind) */
            font-weight: 600;
            /* Define o peso da fonte como semi-negrito (font-semibold do Tailwind) */
            margin-bottom: 15px;
            /* Adiciona uma margem inferior de 15 pixels */
            color: #1f2937;
            /* Define a cor do texto como cinza escuro (Tailwind gray-800) */
        }

        /* Estilização responsiva para os gráficos em ecrãs menores */
        @media (max-width: 768px) {

            /* Aplica estas regras quando a largura do ecrã for no máximo 768 pixels */
            .grid-cols-1 {
                /* Garante que em ecrãs pequenos, o layout seja sempre de uma coluna */
                grid-template-columns: repeat(1, minmax(0, 1fr));
            }

            .md\:grid-cols-2 {
                /* Para ecrãs médios (definidos pelo Tailwind como >= 768px), mas aqui sobrescrevemos para 1 coluna em ecrãs menores */
                grid-template-columns: repeat(1, minmax(0, 1fr));
                /* Força uma coluna em ecrãs menores que 768px */
            }
        }
    </style>
</head>

<body class="p-4 md:p-8">
    <header class="mb-8 text-center">
        <h1 class="text-3xl font-bold text-gray-700">Comparativo de Desempenho: Caixa vs. Banco do Brasil - 4T24</h1>
    </header>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="chart-container">
            <h2 class="chart-title">Lucro Líquido (Bilhões R$)</h2> <canvas id="lucroLiquidoChart"></canvas>
        </div>

        <div class="chart-container">
            <h2 class="chart-title">Rentabilidade sobre o Patrimônio Líquido (ROE %)</h2> <canvas
                id="roeChart"></canvas>
        </div>

        <div class="chart-container">
            <h2 class="chart-title">Carteira de Crédito Total (Trilhões R$)</h2> <canvas
                id="carteiraCreditoChart"></canvas>
        </div>

        <div class="chart-container">
            <h2 class="chart-title">Índice de Inadimplência (>90 dias %)</h2> <canvas id="inadimplenciaChart"></canvas>
        </div>

        <div class="chart-container">
            <h2 class="chart-title">Índice de Basileia (%)</h2> <canvas id="basileiaChart"></canvas>
        </div>

        <div class="chart-container">
            <h2 class="chart-title">Crescimento da Carteira de Crédito por Segmento (Dez24/Dez23 %)</h2> <canvas
                id="crescimentoSegmentoChart"></canvas>
        </div>
    </div>

    <footer class="mt-12 text-center text-sm text-gray-500">
        <p>Dados extraídos dos relatórios de resultados do 4T24 da Caixa Econômica Federal e do Banco do Brasil.</p>
        <p>Valores da Caixa referem-se ao Lucro Líquido Recorrente e ROE Recorrente.</p>
        <p>Valores do Banco do Brasil referem-se ao Lucro Líquido Ajustado e RSPL (ROE).</p>
    </footer>

    <script>
        // Definição de cores padrão para os gráficos para consistência visual
        const caixaColor = 'rgba(22, 163, 74, 0.8)'; // Cor de preenchimento para a Caixa (Verde escuro com opacidade)
        const bbColor = 'rgba(37, 99, 235, 0.8)';    // Cor de preenchimento para o Banco do Brasil (Azul escuro com opacidade)
        const caixaBorderColor = 'rgba(22, 163, 74, 1)'; // Cor da borda para a Caixa (Verde escuro sólido)
        const bbBorderColor = 'rgba(37, 99, 235, 1)';    // Cor da borda para o Banco do Brasil (Azul escuro sólido)

        // 1. Configuração do Gráfico de Lucro Líquido
        const lucroLiquidoCtx = document.getElementById('lucroLiquidoChart').getContext('2d'); // Obtém o contexto 2D do canvas para o gráfico de Lucro Líquido
        new Chart(lucroLiquidoCtx, { // Cria uma nova instância de gráfico Chart.js
            type: 'bar', // Define o tipo de gráfico como barras
            data: { // Define os dados do gráfico
                labels: ['2023', '2024'], // Rótulos para o eixo X (os anos)
                datasets: [ // Conjuntos de dados a serem exibidos
                    {
                        label: 'Caixa (Bi R$)', // Rótulo para o conjunto de dados da Caixa
                        data: [10.61, 14.0], // Valores para a Caixa (2023, 2024)
                        backgroundColor: caixaColor, // Cor de preenchimento das barras da Caixa
                        borderColor: caixaBorderColor, // Cor da borda das barras da Caixa
                        borderWidth: 1 // Largura da borda das barras
                    },
                    {
                        label: 'Banco do Brasil (Bi R$)', // Rótulo para o conjunto de dados do Banco do Brasil
                        data: [35.56, 37.9], // Valores para o Banco do Brasil (2023, 2024)
                        backgroundColor: bbColor, // Cor de preenchimento das barras do BB
                        borderColor: bbBorderColor, // Cor da borda das barras do BB
                        borderWidth: 1 // Largura da borda
                    }
                ]
            },
            options: { // Opções de configuração do gráfico
                responsive: true, // Torna o gráfico responsivo ao tamanho do contentor
                maintainAspectRatio: false, // Permite que o gráfico não mantenha a proporção original, ajustando-se à altura do contentor
                scales: { // Configuração dos eixos
                    y: { // Configuração do eixo Y
                        beginAtZero: true, // Faz o eixo Y começar em zero
                        title: { display: true, text: 'Bilhões R$' } // Título do eixo Y
                    }
                },
                plugins: { // Configuração de plugins do Chart.js
                    tooltip: { // Configuração das dicas de contexto (tooltips) que aparecem ao passar o rato
                        callbacks: { // Funções para personalizar o conteúdo das tooltips
                            label: function (context) { // Personaliza o rótulo da tooltip
                                return context.dataset.label + ': ' + context.parsed.y.toFixed(2) + ' Bi R$'; // Formata o texto da tooltip
                            }
                        }
                    }
                }
            }
        });

        // 2. Configuração do Gráfico de ROE (Rentabilidade sobre o Patrimônio Líquido)
        const roeCtx = document.getElementById('roeChart').getContext('2d'); // Obtém o contexto 2D do canvas para o gráfico de ROE
        new Chart(roeCtx, { // Cria um novo gráfico
            type: 'bar', // Tipo de gráfico: barras
            data: {
                labels: ['2023', '2024'], // Rótulos do eixo X
                datasets: [
                    {
                        label: 'Caixa (%)', // Rótulo para os dados da Caixa
                        data: [8.46, 10.43], // Valores de ROE da Caixa
                        backgroundColor: caixaColor,
                        borderColor: caixaBorderColor,
                        borderWidth: 1
                    },
                    {
                        label: 'Banco do Brasil (%)', // Rótulo para os dados do Banco do Brasil
                        data: [21.6, 21.4], // Valores de ROE do Banco do Brasil
                        backgroundColor: bbColor,
                        borderColor: bbBorderColor,
                        borderWidth: 1
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true, // Eixo Y começa em zero
                        title: { display: true, text: '%' } // Título do eixo Y
                    }
                },
                plugins: {
                    tooltip: {
                        callbacks: {
                            label: function (context) {
                                return context.dataset.label + ': ' + context.parsed.y.toFixed(2) + '%'; // Formata a tooltip para exibir percentagem
                            }
                        }
                    }
                }
            }
        });

        // 3. Configuração do Gráfico de Carteira de Crédito Total
        const carteiraCreditoCtx = document.getElementById('carteiraCreditoChart').getContext('2d'); // Obtém o contexto do canvas
        new Chart(carteiraCreditoCtx, { // Cria um novo gráfico
            type: 'bar', // Tipo de gráfico: barras
            data: {
                labels: ['Dez/23', 'Dez/24'], // Rótulos do eixo X (períodos)
                datasets: [
                    {
                        label: 'Caixa (Tri R$)', // Rótulo para os dados da Caixa
                        data: [1.029, 1.136], // Valores da carteira de crédito da Caixa em trilhões
                        backgroundColor: caixaColor,
                        borderColor: caixaBorderColor,
                        borderWidth: 1
                    },
                    {
                        label: 'Banco do Brasil (Tri R$)', // Rótulo para os dados do Banco do Brasil
                        data: [1.109, 1.278], // Valores da carteira de crédito do BB em trilhões
                        backgroundColor: bbColor,
                        borderColor: bbBorderColor,
                        borderWidth: 1
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true, // Eixo Y começa em zero
                        title: { display: true, text: 'Trilhões R$' } // Título do eixo Y
                    }
                },
                plugins: {
                    tooltip: {
                        callbacks: {
                            label: function (context) {
                                return context.dataset.label + ': ' + context.parsed.y.toFixed(3) + ' Tri R$'; // Formata a tooltip para exibir valores em trilhões
                            }
                        }
                    }
                }
            }
        });

        // 4. Configuração do Gráfico de Índice de Inadimplência
        const inadimplenciaCtx = document.getElementById('inadimplenciaChart').getContext('2d'); // Obtém o contexto do canvas
        new Chart(inadimplenciaCtx, { // Cria um novo gráfico
            type: 'bar', // Tipo de gráfico: barras (alterado de 'line' para 'bar' para melhor comparação direta)
            data: {
                labels: ['Dez/23', 'Dez/24'], // Rótulos do eixo X
                datasets: [
                    {
                        label: 'Caixa (%)', // Rótulo para os dados da Caixa
                        data: [1.97, 2.27], // Valores do índice de inadimplência da Caixa
                        backgroundColor: caixaColor,
                        borderColor: caixaBorderColor,
                        borderWidth: 1
                    },
                    {
                        label: 'Banco do Brasil (%)', // Rótulo para os dados do Banco do Brasil
                        data: [2.9, 3.32], // Valores do índice de inadimplência do BB
                        backgroundColor: bbColor,
                        borderColor: bbBorderColor,
                        borderWidth: 1
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true, // Eixo Y começa em zero
                        title: { display: true, text: '%' } // Título do eixo Y
                    }
                },
                plugins: {
                    tooltip: {
                        callbacks: {
                            label: function (context) {
                                return context.dataset.label + ': ' + context.parsed.y.toFixed(2) + '%'; // Formata a tooltip
                            }
                        }
                    }
                }
            }
        });

        // 5. Configuração do Gráfico de Índice de Basileia
        const basileiaCtx = document.getElementById('basileiaChart').getContext('2d'); // Obtém o contexto do canvas
        new Chart(basileiaCtx, { // Cria um novo gráfico
            type: 'bar', // Tipo de gráfico: barras
            data: {
                labels: ['Dez/23', 'Dez/24'], // Rótulos do eixo X
                datasets: [
                    {
                        label: 'Caixa (%)', // Rótulo para os dados da Caixa
                        data: [16.7, 16.6], // Valores do Índice de Basileia da Caixa
                        backgroundColor: caixaColor,
                        borderColor: caixaBorderColor,
                        borderWidth: 1
                    },
                    {
                        label: 'Banco do Brasil (%)', // Rótulo para os dados do Banco do Brasil
                        data: [15.47, 13.75], // Valores do Índice de Basileia do BB
                        backgroundColor: bbColor,
                        borderColor: bbBorderColor,
                        borderWidth: 1
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: false, // O Índice de Basileia geralmente não começa em zero, então ajustado para 'false'
                        title: { display: true, text: '%' } // Título do eixo Y
                    }
                },
                plugins: {
                    tooltip: {
                        callbacks: {
                            label: function (context) {
                                return context.dataset.label + ': ' + context.parsed.y.toFixed(2) + '%'; // Formata a tooltip
                            }
                        }
                    }
                }
            }
        });

        // 6. Configuração do Gráfico de Crescimento da Carteira de Crédito por Segmento
        const crescimentoSegmentoCtx = document.getElementById('crescimentoSegmentoChart').getContext('2d'); // Obtém o contexto do canvas
        new Chart(crescimentoSegmentoCtx, { // Cria um novo gráfico
            type: 'bar', // Tipo de gráfico: barras
            data: {
                labels: ['Imobiliário/PF', 'Comercial/PJ', 'Agronegócio'], // Rótulos do eixo X (segmentos de crédito)
                datasets: [
                    {
                        label: 'Caixa (Cresc. % Dez24/Dez23)', // Rótulo para os dados da Caixa
                        data: [13.5, 9.0, 11.4], // Valores de crescimento para a Caixa (Imobiliário, Comercial, Agronegócio)
                        backgroundColor: caixaColor,
                        borderColor: caixaBorderColor,
                        borderWidth: 1
                    },
                    {
                        label: 'Banco do Brasil (Cresc. % Dez24/Dez23)', // Rótulo para os dados do Banco do Brasil
                        data: [7.3, 18.0, 11.9], // Valores de crescimento para o BB (Pessoa Física, Pessoa Jurídica, Agronegócio)
                        backgroundColor: bbColor,
                        borderColor: bbBorderColor,
                        borderWidth: 1
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true, // Eixo Y começa em zero
                        title: { display: true, text: 'Crescimento %' } // Título do eixo Y
                    }
                },
                plugins: {
                    tooltip: {
                        callbacks: {
                            label: function (context) { // Personaliza o rótulo da tooltip
                                let label = context.dataset.label || ''; // Obtém o rótulo do dataset
                                if (label) {
                                    label += ': ';
                                }
                                if (context.parsed.y !== null) { // Verifica se o valor existe
                                    label += context.parsed.y.toFixed(1) + '%'; // Adiciona o valor formatado
                                }
                                return label; // Retorna o rótulo completo
                            }
                        }
                    },
                    legend: { // Configuração da legenda
                        position: 'top', // Posiciona a legenda no topo do gráfico
                    }
                }
            }
        });

    </script>
</body>

</html>